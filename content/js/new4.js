var mrpjq=jQuery;
(function(d){d.fn.mrp=function(c){function Pa(a){(function(a,g,f){var b=a.getElementsByTagName(g)[0];a.getElementById(f)||(a=a.createElement(g),a.id=f,a.src="//connect.facebook.net/en_US/sdk.js",b.parentNode.insertBefore(a,b))})(document,"script","facebook-jssdk");window.fbAsyncInit=function(){FB.init({appId:a,xfbml:!0,version:"v2.9"})}}function kb(a){if(t){if(!ha){if("touchstart"==a.type){if(a=a.originalEvent.touches,!(a&&0<a.length))return!1}else a.preventDefault();ha=!0;aa.on(S,function(a){a:{if("touchmove"==
a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();Qa(b)}}).on(ia,function(a){a:if(ha){ha=!1;aa.off(S).off(ia);if("touchend"==a.type){if(a.originalEvent.touches&&a.originalEvent.touches.length)var b=a.originalEvent.touches;else if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)b=
a.originalEvent.changedTouches;else break a;if(1<b.length)break a;b=b[0]}else b=a;a.preventDefault();Qa(b)}})}return!1}}function P(){if(!t)return!1;0<q?(Aa=q,q=0):q=Aa;ja()}function Qa(a){Q?(q=Math.max(0,Math.min(1,(a.pageY-H.offset().top)/I)),q=1-q):q=Math.max(0,Math.min(1,(a.pageX-H.offset().left)/I));ja()}function ja(a){"undefined"!==typeof a&&(q=a);n&&(n.volume=q);a=Q?"height":"width";MRPUtils.isNumber(I)||(I=Q?H.height():H.width());lb.css(a,q*I+"px");0==q?(ba.find(".mrp-volume-icon").hide(),
ba.find(".mrp-mute-icon").show()):(ba.find(".mrp-volume-icon").show(),ba.find(".mrp-mute-icon").hide())}function Ra(a){var b=Q?a.pageY-H.offset().top:a.pageX-H.offset().left;0>b?b=0:b>I&&(b=I);b=Math.max(0,Math.min(1,b/I));if(!MRPUtils.isNumber(b))return!1;Q&&(b=1-b);b=parseInt(100*b,10);u.text(b+" %");b=e[0].getBoundingClientRect();var g=G[0].getBoundingClientRect();if(Q){var f=parseInt(g.left-b.left-u.outerWidth()/2+G.outerWidth()/2);a=parseInt(a.pageY-Sa.scrollTop()-b.top-u.outerHeight()-10)}else f=
parseInt(a.pageX-Sa.scrollLeft()-b.left-u.outerWidth()/2),a=parseInt(g.top-b.top-u.outerHeight());0>a+b.top&&(a=parseInt(g.top-b.top+u.outerHeight()+15));u.css({left:f+"px",top:a+"px"}).show()}function mb(a){if(!t)return!1;a=d(a.currentTarget);a.hasClass("mrp-playback-toggle")&&m.togglePlayback();if(a.hasClass("mrp-prev-toggle"))if(ca){var b=C?C.attr("data-id"):0;b--;0>b&&(b=T-1);E.find(".mrp-playlist-item[data-id="+b+"]").click()}else c.activeRadioStationIndex--,0>c.activeRadioStationIndex&&(c.activeRadioStationIndex=
T-1),da(ka[c.activeRadioStationIndex]);if(a.hasClass("mrp-next-toggle"))ca?(b=C?C.attr("data-id"):0,b++,b>T-1&&(b=0),E.find(".mrp-playlist-item[data-id="+b+"]").click()):(c.activeRadioStationIndex++,c.activeRadioStationIndex>T-1&&(c.activeRadioStationIndex=0),da(ka[c.activeRadioStationIndex]));else if(a.hasClass("mrp-volume-toggle"))U&&void 0==a.attr("data-toggle-mute")||P();else if(a.hasClass("mrp-popup-toggle"))m.openPopup();else if(a.hasClass("mrp-playlist-toggle"))m.togglePlaylist();else if(a.hasClass("mrp-share-item"))a:{a=
a.attr("data-type").toLowerCase();b=(window.screen.width-600)/2;var g=(window.screen.height-300)/2,f=x||"",l=k.description||"",la=Ta||"",e=k.share||window.location.href;MRPUtils.relativePath(la)||(la=MRPUtils.qualifyURL(la));if("facebook"==a)window.FB&&FB.ui({method:"share_open_graph",action_type:"og.shares",action_properties:JSON.stringify({object:{"og:url":e,"og:title":f,"og:description":l,"og:image":la}})});else if("twitter"==a)var h=Ua+"//twitter.com/share?url="+encodeURIComponent(e)+"&text="+
encodeURIComponent(f);else if("tumblr"==a)h=Ua+"//www.tumblr.com/share/link?url="+encodeURIComponent(e)+"&amp;name="+encodeURIComponent(f)+"&amp;description="+encodeURIComponent(l);else if("whatsapp"==a)if(U){h=encodeURIComponent(f)+" - "+encodeURIComponent(e);window.location.href="whatsapp://send?text="+h;break a}else alert(settings.whatsAppWarning);h&&window.open(h,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=600,height=300,left="+b+",top="+g)}}function ma(a){if("undefined"===typeof mCustomScrollbar)if(window.playlistScrollLoading)var b=
setInterval(function(){playlistScrollLoading||(clearInterval(b),ma(a))},100);else{window.playlistScrollLoading=!0;var g=document.createElement("script");g.type="text/javascript";g.src=MRPUtils.qualifyURL(Ba+"js/jquery.mCustomScrollbar.concat.min.js");g.onload=g.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||(ma(a),window.playlistScrollLoading=!1)};g.onerror=function(){alert("Error loading "+this.src)};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(g,
f)}else a.mCustomScrollbar({axis:"horizontal"==nb?"x":"y",theme:c.scrollTheme,scrollInertia:0,mouseWheel:{normalizeDelta:!0,deltaFactor:50,preventDefault:!0},keyboard:{enable:!1},advanced:{autoExpandHorizontalScroll:!0},callbacks:{onOverflowYNone:function(){a.find(".mCSB_container").addClass("mrp-mCSB_full")},onOverflowY:function(){a.find(".mCSB_container").removeClass("mrp-mCSB_full")}}})}function da(a){na=!0;Ca.show();Da&&Va();c.activeRadioStationIndex=a.index();Da=a;k=ob(a);v=k.type;ja(q);Wa?(Wa=
!1,setTimeout(function(){Xa()},250)):Xa()}function oa(){var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1));window.radioDataXHR&&window.radioDataXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){if(k.version&&1==k.version)var a=b.responseText.split(","),f=a[6];else a=JSON.parse(b.responseText),f=a.songtitle;J=a;if(K)x?x!=f&&pa():pa();else{var l=f.split("-");a=d.trim(l[0]);l=d.trim(l[1]);p=
[];y=-1;p.push({artist:a,title:l,thumb:z});A=1;x?x!=f&&(z?D():F()):z?D():F()}x=f}else L||(h&&clearInterval(h),h=setInterval(function(){oa()},V))};k.version&&1==k.version?b.open("GET",M[B]+a+"7.html",!0):b.open("GET",M[B]+a+"/stats?sid="+(k.sid||"1")+"&json=1",!0);b.send();window.radioDataXHR=b}function pa(){p=[];y=-1;var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1));window.radioXHR&&window.radioXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=
function(){if(4===this.readyState)if(200===this.status){var a=b.responseText,f=a.indexOf("Song Title")+12;a=a.substr(f,a.length);a=a.split("</td><td>");a.shift();var l;A=a.length;10<A&&(A=10);Ea&&(A=1);for(l=0;l<A;l++){f=a[l].indexOf("</");a[l]=a[l].substr(0,f);a[l]=a[l].replace(/<\/?[^>]+(>|$)/g,"");var c=a[l].split(" - ");f=c[0].trim();c=c[1]?c[1].trim():"";-1<c.indexOf("Current Song")&&(c=c.substr(0,c.length-12));0==l?p.push({artist:f,title:c,thumb:z}):p.push({artist:f,title:c,thumb:W})}z||W?D():
F()}else L||(h&&clearInterval(h),h=setInterval(function(){pa()},V))};b.open("GET",M[B]+a+"played.html");b.send();window.radioXHR=b}function Ya(){window.radioDataXHR&&window.radioDataXHR.abort();var a=new XMLHttpRequest;a.onerror=function(a){};a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){console.log(a.responseText);var b=JSON.parse(a.responseText),g=b.artist,f=b.title,c=g+" - "+f;J=b;K?x?x!=c&&Za():Za():(p=[],y=-1,p.push({artist:g,title:f,thumb:z}),A=1,x?x!=c&&(z?D():
F()):z?D():F());x=c}else L||(h&&clearInterval(h),h=setInterval(function(){oa()},V))};a.open("GET",M[B]+("http://www.radiojar.com/api/stations/"+k.mountpoint+"/now_playing/"),!0);a.send();window.radioDataXHR=a}function Za(){p=[];y=-1;var a=k.radio;";"==a.substring(a.length-1)&&(a=a.substring(0,a.length-1));window.radioXHR&&window.radioXHR.abort();var b=new XMLHttpRequest;b.onerror=function(a){};b.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){console.log(b.responseText);
var a=b.responseText,f=a.indexOf("[{");a=a.substr(f,a.length);a=JSON.parse(a);a.reverse();10<a.length&&(a=a.splice(0,10));A=a.length;Ea&&(A=1);for(f=0;f<A;f++){var c=a[f].artist;var d=a[f].track;0==f?p.push({artist:c,title:d,thumb:z}):p.push({artist:c,title:d,thumb:W})}z||W?D():F()}else L||(h&&clearInterval(h),h=setInterval(function(){pa()},V))};b.open("GET",M[B]+("http://www.radiojar.com/api/stations/"+k.mountpoint+"/tracks/"));b.send();window.radioXHR=b}function qa(){var a=k.radio;";"==a.substring(a.length-
1)&&(a=a.substring(0,a.length-1));window.radioXHR&&window.radioXHR.abort();a=new XMLHttpRequest;a.onerror=function(a){};a.onreadystatechange=function(){if(4===this.readyState)if(200===this.status){if(-1<this.responseText.indexOf('{"icestats":')){var a=JSON.parse(this.responseText);if(void 0===a.icestats.source.length)var g=a.icestats.source;else{var f,c=a.icestats.source.length;for(f=0;f<c;f++)if(0<=a.icestats.source[f].listenurl.indexOf(k.mountpoint)){g=a.icestats.source[f];break}}J=g;a=g.title}else-1<
this.responseText.indexOf('class="streamdata"')?-1<this.responseText.indexOf("Mount Point /"+k.mountpoint)&&(g=this.responseText.substr(this.responseText.indexOf("Mount Point /"+k.mountpoint)),g=g.substr(g.indexOf("Current Song:")),g=g.substr(g.indexOf('<td class="streamdata">')+23),g=g.substr(0,g.indexOf("</td>")),MRPUtils.isEmpty(g)||(a=g)):-1<this.responseText.indexOf('class="streamstats"')&&-1<this.responseText.indexOf("Mount Point /"+k.mountpoint)&&(g=this.responseText.substr(this.responseText.indexOf("Mount Point /"+
k.mountpoint)),g=g.substr(g.indexOf("Currently playing:")),g=g.substr(g.indexOf('<td class="streamstats">')+24),g=g.substr(0,g.indexOf("</td>")),MRPUtils.isEmpty(g)||(a=g));a?(f=a.split("-"),g=d.trim(f[0]),f=d.trim(f[1]),p=[],y=-1,p.push({artist:g,title:f,thumb:!0}),A=1,x?x!=a&&(z?D():F()):z?D():F(),x=a):(ra({artist:pb,title:qb,thumb:Fa}),Ca.hide())}else 404==this.status&&"Not Found"==this.statusText?(console.log(Ga[sa]+" does not exist!"),sa++,Ga[sa]&&!L&&(h&&clearInterval(h),qa())):L||(h&&clearInterval(h),
h=setInterval(function(){qa()},V))};a.open("GET",M[B]+k.radio+Ga[sa],!0);a.send();window.radioXHR=a}function F(){Ca.hide();B=0;if("shoutcast"==v||"radiojar"==v)if(Ea){var a=p.shift();ra(a);K&&(0==r.length?r.push(a):(r[0].artist==a.artist&&r[0].title==a.title&&r[0].thumb==a.thumb||r.unshift(a),10<r.length&&r.pop(),1<r.length&&Ha(r.slice(1))))}else ra(p.shift()),K&&Ha(p);else"icecast"==v&&(a=p.shift(),ra(a),K&&(0==r.length?r.push(a):(r[0].artist==a.artist&&r[0].title==a.title&&r[0].thumb==a.thumb||
r.unshift(a),10<r.length&&r.pop(),1<r.length&&Ha(r.slice(1)))));L=!0;na=!1;h&&clearInterval(h);h=setInterval(function(){"shoutcast"==v?oa():"icecast"==v?qa():"radiojar"==v&&Ya()},V)}function D(){y++;if(y==A)F();else if(!W&&0<y)F();else if(p[y].thumb){var a=p[y].artist,b=p[y].title,g,c=Ia.length;for(g=0;g<c;g++)a=a.replace(Ia[g],""),b=b.replace(Ia[g],"");g=M[B]+"https://itunes.apple.com/search?type=jsonp&term=="+encodeURI(a)+"&media=music&limit=1";a=new XMLHttpRequest;a.onreadystatechange=function(){if(4===
this.readyState)if(200===this.status){var a=JSON.parse(this.responseText);a=a.resultCount?a.results[0].artworkUrl100:w;p[y]&&(p[y].thumb=a,D())}else 403===this.status&&p[y]&&(B++,B>M.length-1&&(B=0),D())};a.open("GET",g,!0);a.send();window.artworkDataXHR=a}else D()}function Ha(a){N.empty();var b,g=a.length,c;for(b=0;b<g;b++){var l=a[b];var e=d('<div class="mrp-playlist-item"/>');if((c=l.thumb||w)&&!0!==c){var h=new Image;h.alt=l.title||"image";h.className="mrp-playlist-thumb-img";h.onload=function(){this.className+=
" mrp-visible"};h.src=c;d('<span class="mrp-playlist-thumb"></span>').append(h).appendTo(e)}c=d('<span class="mrp-playlist-info"></span>').appendTo(e);(MRPUtils.isEmpty(l.title)||MRPUtils.isEmpty(l.artist)?MRPUtils.isEmpty(l.title)?d('<span class="mrp-playlist-artist">'+l.artist+"</span>"):d('<span class="mrp-playlist-title">'+l.title+"</span>"):d('<span class="mrp-playlist-title">'+l.title+'</span><span class="mrp-playlist-separator">'+rb+'</span><span class="mrp-playlist-artist">'+l.artist+"</span>")).appendTo(c);
e.appendTo(N)}Ja=g;$a&&!ab&&(ab=!0,ma(ta))}function sb(){E.empty();var a,b,c,f=0;X.find(".mrp-playlist-item").each(function(){a=d(this).clone().attr("data-id",f).on("click",function(){var a=d(this);if(a.hasClass("mrp-playlist-item-active"))return!1;C&&C.removeClass("mrp-playlist-item-active");C=a.addClass("mrp-playlist-item-active");K&&setTimeout(function(){ua.click()},500);da(a)});var g=a.attr("data-radio-thumb");if(g){var e=new Image;e.alt=a.attr("data-title")||"image";e.className="mrp-playlist-thumb-img";
e.onload=function(){this.className+=" mrp-visible"};e.src=g;d('<span class="mrp-playlist-thumb"></span>').append(e).appendTo(a)}c=d('<span class="mrp-playlist-info"></span>').appendTo(a);b=a.attr("data-radio-title")||"";d('<span class="mrp-playlist-title">'+b+"</span>").appendTo(c);a.appendTo(E);a.hasClass("mrp-playlist-item-active")&&(C=a);f++});$a&&!Ka&&(Ka=!0,ma(va))}function ra(a){bb.html(a.title);cb.html(a.artist);if(!z)if(w)a.thumb=w;else return;var b=a.thumb;if(b&&(Ta=b=b==w&&Fa?Fa:b.replace("100x100bb",
c.playerArtworkSize),wa.hasClass("mrp-thumb-hidden")?wa.css("background-image","url("+b+")").removeClass("mrp-thumb-hidden"):(db.css("background-image","url("+b+")").removeClass("mrp-thumb-hidden"),wa.addClass("mrp-thumb-hidden")),"mediaSession"in navigator)){b=a.thumb!=w?a.thumb.replace("100x100bb","96x96bb"):w;var g=a.thumb!=w?a.thumb.replace("100x100bb","128x128bb"):w,f=a.thumb!=w?a.thumb.replace("100x100bb","192x192bb"):w,d=a.thumb!=w?a.thumb.replace("100x100bb","256x256bb"):w,e=a.thumb!=w?a.thumb.replace("100x100bb",
"384x384bb"):w;navigator.mediaSession.metadata=new MediaMetadata({title:a.title,artist:a.artist,artwork:[{src:b,sizes:"96x96",type:"image/png"},{src:g,sizes:"128x128",type:"image/png"},{src:f,sizes:"192x192",type:"image/png"},{src:d,sizes:"256x256",type:"image/png"},{src:e,sizes:"384x384",type:"image/png"},{src:e,sizes:"512x512",type:"image/png"}]})}}function Xa(){eb||(ea=d(document.createElement("audio")).attr("preload",tb),n=ea[0],eb=!0);La=k.radio;k.mountpoint&&(La+=k.mountpoint);n.src=La;ea.on("ended",
function(){}).on("canplay",function(a){}).on("canplaythrough",function(a){}).on("loadedmetadata",function(){k.playbackRate&&(n.playbackRate=Number(k.playbackRate))}).on("play",function(){Ma||(Ma=!0,d(m).trigger("soundStart",{instance:m,instanceName:O,radioData:J}));if(ub&&1<mrp_mediaArr.length){var a,c=mrp_mediaArr.length;for(a=0;a<c;a++)m!=mrp_mediaArr[a].inst&&mrp_mediaArr[a].inst.pauseMedia()}R.find(".mrp-play-icon").hide();R.find(".mrp-pause-icon").show();Y=!0;d(m).trigger("soundPlay",{instance:m,
instanceName:O,radioData:J})}).on("pause",function(){R.find(".mrp-play-icon").show();R.find(".mrp-pause-icon").hide();Y=!1;d(m).trigger("soundPause",{instance:m,instanceName:O,radioData:J})}).on("error",function(a){console.log(a);d(m).trigger("soundError",{instance:m,instanceName:O,error:a})});if(xa){var a=n.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}n.volume=q;xa=!0;"shoutcast"==v?oa():"icecast"==v?qa():"radiojar"==v&&Ya()}function fb(){h&&clearInterval(h);h=null;n&&(n.pause(),
n.src="");ea&&ea.off("ended canplay canplaythrough loadedmetadata pause play error");bb.html("");cb.html("");db.css("background-image","none").addClass("mrp-thumb-hidden");wa.css("background-image","none").addClass("mrp-thumb-hidden");v=J=null;Ma=Y=!1;R.find(".mrp-play-icon").show();R.find(".mrp-pause-icon").hide()}function Va(){window.radioXHR&&(window.radioXHR.abort(),delete window.radioXHR);window.radioDataXHR&&(window.radioDataXHR.abort(),delete window.radioDataXHR);window.artworkDataXHR&&(window.artworkDataXHR.abort(),
delete window.artworkDataXHR);v&&fb();B=0;N.empty();L=null;r=[]}function ob(a){var b={};void 0!=a.attr("data-type")&&(b.type=a.attr("data-type"));void 0!=a.attr("data-radio-url")&&(b.radio=a.attr("data-radio-url"),"icecast"==b.type||"radiojar"==b.type)&&(b.mountpoint=b.radio.substr(b.radio.lastIndexOf("/")+1),b.radio=b.radio.substr(0,b.radio.lastIndexOf("/")+1));void 0!=a.attr("data-version")&&(b.version=a.attr("data-version"));void 0!=a.attr("data-sid")&&(b.sid=a.attr("data-sid"));return b}if(function(){var a=
!1,b=document.URL,c=b.indexOf("://")+3,f=b.indexOf("/",c);b=b.substring(c,f).split(".");c=[1059,653,969,1728];f=[];var d,e,h=b.length;for(d=0;d<h;d++){var k=b[d];var m=k.length;var n=e=0;for(e;e<m;e++){var p=k.charAt(e);n+=p.charCodeAt(0)}f.push(n)}d=0;h=f.length;m=c.length;d;a:for(;d<h;d++)for(e=0,e;e<m;e++)if(f[d]==c[e]){a=!0;break a}return a}()){d(this).hasClass("mrp-fixed")&&d(this).appendTo(d("body")).css("opacity",1);var e=d(this),Na=e.find(".mrp-player-holder"),vb=e.find(".mrp-playlist-holder"),
E=e.find(".mrp-playlist-content"),Z=e.find(".mrp-playlist-filter-msg"),va=e.find(".mrp-playlist-inner"),N=e.find(".mrp-history-content"),ta=e.find(".mrp-history-inner"),wb=e.find(".mrp-popup-toggle"),db=e.find(".mrp-player-thumb1"),wa=e.find(".mrp-player-thumb2"),bb=e.find(".mrp-player-title"),cb=e.find(".mrp-player-artist"),R=e.find(".mrp-playback-toggle"),Ca=e.find(".mrp-preloader"),ua=e.find(".mrp-history-title").on("click",function(){if(!t||d(this).hasClass("mrp-title-active"))return!1;N.children(".mrp-playlist-item").show();
Z.hide();gb.val("");ta.css({transform:"translateX(0px)"});va.css({transform:"translateX(0)"});ua.addClass("mrp-title-active");hb.removeClass("mrp-title-active")}),hb=e.find(".mrp-station-title").on("click",function(){if(!t||d(this).hasClass("mrp-title-active"))return!1;E.children(".mrp-playlist-item").show();Z.hide();gb.val("");ta.css({transform:"translateX(-100%)"});va.css({transform:"translateX(-100%)"});ua.removeClass("mrp-title-active");hb.addClass("mrp-title-active")});c=d.extend(!0,{},{playlistList:"#mrp-playlist-list",
volume:.5,preload:"auto",togglePlaybackOnMultipleInstances:!0,useKeyboardNavigationForPlayback:!1,scrollOrientation:"vertical",scrollTheme:"minimal",cors:"https://kastproxy-us.herokuapp.com/,https://kastproxy-eu.herokuapp.com/,https://cors-anywhere.herokuapp.com/,https://cors.io/?",getPlayerArtwork:!0,getHistoryArtwork:!1,createHistoryList:!0,playerArtworkSize:"256x256bb",instanceName:"player"+Math.floor(1E6*Math.random()),defaultHistoryArtwork:"data/default_artwork/star_small.png",defaultPlayerArtwork:"data/default_artwork/podcast.png",
defaultSongTitle:"DATA NOT AVAILABLE",defaultSongArtist:"DATA NOT AVAILABLE",whatsAppWarning:"Please share this content on mobile device!",playlistTitleArtistSeparator:"",hideVolumeOnIOS:!0},c);var U=MRPUtils.isMobile();MRPUtils.hasLocalStorage();var X=d(c.playlistList),Ba=c.sourcePath,O=c.instanceName,xa=c.autoPlay,tb=c.preload,$a=c.useScroll,nb=c.scrollOrientation,xb=c.useKeyboardNavigationForPlayback,ib=c.facebookAppId,q=c.volume,M=c.cors.split(",").map(function(a){return a.trim()}),ub=c.togglePlaybackOnMultipleInstances,
z=c.getPlayerArtwork,Fa=c.defaultPlayerArtwork,qb=c.defaultSongTitle,pb=c.defaultSongArtist,W=c.getHistoryArtwork,w=c.defaultHistoryArtwork,K=c.createHistoryList,Ea=c.createHistoryListAsItPlays,ca=c.createRadioList,rb=c.playlistTitleArtistSeparator;K||(W=!1);var m=this;d("body");var Sa=d(window),aa=d(document),yb=MRPUtils.isIOS();MRPUtils.isAndroid();var zb=MRPUtils.isChrome(),Ab=MRPUtils.isSafari(),Ua="https:"==window.location.protocol?"https:":"http:",Bb=MRPUtils.volumeCanBeSet(),eb,ea,n,J,L,x,
Ta,ab,Ka,r=[],p=[],y,A,h,V=c.lastPlayedInterval,Ga=["/status-json.xsl","/status.xsl"],sa=0,Ma,v,La,Y,k,Da,na=!0,C=0,Ja=0,ka=[],Ia=["feat.","ft.","Feat.","Ft."],B=0;"undefined"===typeof window.mrp_mediaArr&&(window.mrp_mediaArr=[]);window.mrp_mediaArr.push({inst:m,id:O});if(xa&&!MRPUtils.iFrame&&(zb||Ab)&&!U){var Cb=MRPUtils.qualifyURL(Ba+"data/silence.mp3");MRPUtils.iFrame=d('<iframe src="'+Cb+'" allow="autoplay" style="display:none"></iframe>').appendTo("body");var Wa=!0}U&&(xa=!1);var gb=e.find(".mrp-search-filter").on("keyup.apfilter",
function(){if(!t)return!1;if(ua.hasClass("mrp-title-active")){if(!K)return!1;var a=d(this).val().toLowerCase(),b,c=0;for(b=0;b<Ja;b++){var f=N.children(".mrp-playlist-item").eq(b);var e=f.find(".mrp-playlist-title");f=f.find(".mrp-playlist-artist");e=0==e.length?"":e.html().toLowerCase();f=0==f.length?"":f.html().toLowerCase();-1<e.indexOf(a)||-1<f.indexOf(a)?N.children(".mrp-playlist-item").eq(b).show():(N.children(".mrp-playlist-item").eq(b).hide(),c++)}c==Ja?Z.show():Z.hide()}else{if(!ca)return!1;
a=d(this).val().toLowerCase();for(b=c=0;b<T;b++)e=E.children(".mrp-playlist-item").eq(b).find(".mrp-playlist-title").html().toLowerCase(),-1<e.indexOf(a)?E.children(".mrp-playlist-item").eq(b).show():(E.children(".mrp-playlist-item").eq(b).hide(),c++);c==T?Z.show():Z.hide()}});MRPUtils.isEmpty(ib)||"file:"==window.location.protocol?console.log("facebookAppId has not been set in settings!"):Pa(ib);var u=e.find(".mrp-tooltip");U||("static"==e.css("position")&&console.log("wrapper css position is static, therefore tooltip might not work correctly. Please set wrapper css to other than static."),
e.on("mouseenter","[data-tooltip]",function(a){var b=d(this);a=e[0].getBoundingClientRect();var c=b[0].getBoundingClientRect();u.text(b.attr("data-tooltip"));var f=parseInt(c.top-a.top-u.outerHeight());b=parseInt(c.left-a.left-u.outerWidth()/2+b.outerWidth()/2);b+u.outerWidth()>e.width()?b=e.width()-u.outerWidth():0>b&&(b=0);0>f+a.top&&(f=parseInt(c.top-a.top+u.outerHeight()+15));u.css({left:b+"px",top:f+"px"}).show()}).on("mouseleave","[data-tooltip]",function(a){u.hide()}));if("ontouchstart"in window){var Oa=
"touchstart.ap mousedown.ap";var S="touchmove.ap mousemove.ap";var ia="touchend.ap mouseup.ap"}else window.PointerEvent?(Oa="pointerdown.ap",S="pointermove.ap",ia="pointerup.ap"):(Oa="mousedown.ap",S="mousemove.ap",ia="mouseup.ap");var Aa=.5,ha,ba=e.find(".mrp-volume-toggle"),G=e.find(".mrp-volume-seekbar"),H=e.find(".mrp-volume-bg"),lb=e.find(".mrp-volume-level"),Q=void 0!=G.attr("data-is-vertical")?!0:!1,I=Q?H.height():H.width();0>q?q=0:1<q&&(q=1);0!=q&&(Aa=q);if(Bb)G.on(Oa,function(a){kb(a);return!1});
else yb&&c.hideVolumeOnIOS&&(e.find(".mrp-volume-wrapper").remove(),e.find(".mrp-volume-toggle").remove());if(!U){var ya=function(){G.off(S,Ra).off("mouseout",ya);aa.off("mouseout",ya);u.hide()};G.on("mouseover",function(){G.on(S,Ra).on("mouseout",ya);aa.on("mouseout",ya)})}xb&&aa.keyup(function(a){if(!t)return!1;var b=a.keyCode;d(a.target);32==b?(m.togglePlayback(),a.preventDefault()):77==b&&P()});var jb=[e.find(".mrp-share-item"),wb,R,ba,e.find(".mrp-prev-toggle"),e.find(".mrp-next-toggle"),e.find(".mrp-playlist-toggle")],
Db=jb.length,za;for(za=0;za<Db;za++)d(jb[za]).css("cursor","pointer").on("click",mb);this.playMedia=function(){if(!t||!v||Y)return!1;if(n){n.load();var a=n.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}};this.pauseMedia=function(){if(!t||!v||!Y)return!1;n&&n.pause()};this.togglePlayback=function(){if(!t||!v)return!1;if(n)if(n.paused){n.load();var a=n.play();void 0!==a&&a.then(function(){})["catch"](function(a){})}else n.pause()};this.destroyInstance=function(){window.radioXHR&&(window.radioXHR.abort(),
delete window.radioXHR);window.radioDataXHR&&(window.radioDataXHR.abort(),delete window.radioDataXHR);window.artworkDataXHR&&(window.artworkDataXHR.abort(),delete window.artworkDataXHR);G&&G.off();fb();"undefined"!==typeof mCustomScrollbar&&(ta.mCustomScrollbar("destroy"),va.mCustomScrollbar("destroy"));Ka=!1;E.empty();N.empty();u.hide()};this.destroyPlaylist=function(){if(!t)return!1;Va()};this.loadPlaylist=function(a){if(!t||na)return!1;if("undefined"===typeof a||MRPUtils.isEmpty(a))return alert("loadPlaylist method requires id parameter. loadPlaylist failed."),
!1;if(Da==a)return!1;var b=X.find(d(a));if(0==b.length)return alert("Failed playlist selection! Playlist - "+a+" does not exist. Check activePlaylist option in settings!"),!1;C&&C.removeClass("mrp-playlist-item-active");ca&&(C=E.find(d(a)).addClass("mrp-playlist-item-active"));da(b)};this.openPopup=function(){if(!t)return!1;if("function"===typeof mrpOpenPopup)mrpOpenPopup(m,c);else{var a=document.createElement("script");a.type="text/javascript";a.src=MRPUtils.qualifyURL(Ba+"js/popup.js?7");a.onload=
a.onreadystatechange=function(){this.readyState&&"complete"!=this.readyState||mrpOpenPopup(m,c)};a.onerror=function(){alert("Error loading "+this.src)};var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}};this.getRadioData=function(){return t?J:!1};this.getPlaylistLoading=function(){return na};this.setPlaybackRate=function(a){if(!t||!v)return!1;n&&(n.playbackRate=Number(a))};this.setVolume=function(a){if(!t)return!1;0>a?a=0:1<a&&(a=1);ja(a)};this.getVolume=function(){return q};
this.toggleMute=function(){if(!t)return!1;P()};this.getSetupDone=function(){return t};this.getMediaPlaying=function(){return t?Y:!1};this.getWrapper=function(){return e};this.getPlaylistList=function(){return X};this.getSettings=function(){return c};"fixed"==O?this.togglePlaylist=function(){m.playlistOpened?e.animate({bottom:-vb.height()+"px"},350):e.animate({bottom:0},350);m.playlistOpened=!m.playlistOpened}:"artwork5"==O&&(this.togglePlaylist=function(){var a=e.width()-50;m.playlistOpened?Na.css("left",
Na.css("left")).stop().animate({left:"0px"},{duration:500}):Na.stop().animate({left:a+"px"},{duration:500});m.playlistOpened=!m.playlistOpened});var t=!0;d(m).trigger("setupDone",{instance:m,instanceName:O});X.find(".mrp-playlist-item").each(function(){ka.push(d(this).removeClass("mrp-playlist-item-active"))});var T=ka.length;if(void 0!=c.activeRadioStationIndex)var fa=X.find(".mrp-playlist-item").eq(c.activeRadioStationIndex);else if(c.activePlaylist&&(fa=X.find(d(c.activePlaylist)),0==fa.length)){alert("Failed playlist selection! Playlist - "+
c.activePlaylist+" does not exist. Check activePlaylist option in settings!");return}fa&&(fa.addClass("mrp-playlist-item-active"),da(fa));ca&&sb();return this}}})(jQuery);
(function(d){var c=function(){};c.isEmpty=function(c){return 0==c.replace(/^\s+|\s+$/g,"").length};c.isNumber=function(c){return!isNaN(parseFloat(c))&&isFinite(c)};c.isMobile=function(){return/Android|webOS|iPhone|iPad|iPod|sony|BlackBerry/i.test(navigator.userAgent)};c.isIE=function(){var c=-1;if("Microsoft Internet Explorer"==navigator.appName){var d=navigator.userAgent,P=/MSIE ([0-9]{1,}[.0-9]{0,})/;null!=P.exec(d)&&(c=parseFloat(RegExp.$1))}else"Netscape"==navigator.appName&&(d=navigator.userAgent,
P=/Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/,null!=P.exec(d)&&(c=parseFloat(RegExp.$1)));return-1!=c?!0:!1};c.isIOS=function(){return navigator.userAgent.match(/(iPad|iPhone|iPod)/g)};c.isAndroid=function(){return-1<navigator.userAgent.indexOf("Android")};c.qualifyURL=function(c){var d=document.createElement("a");d.href=c;return d.href};c.relativePath=function(c){return/^(?:[a-z]+:)?\/\//i.test(c)};c.hasLocalStorage=function(){try{return"localStorage"in d&&null!==d.localStorage}catch(Pa){return!1}};c.isChrome=
function(){return!!d.chrome&&(!!d.chrome.webstore||!!d.chrome.runtime)};c.isSafari=function(){return 0<Object.prototype.toString.call(d.HTMLElement).indexOf("Constructor")};c.volumeCanBeSet=function(){var c=document.createElement("audio");if(!c)return!1;c.volume=0;return 0==c.volume?!0:!1};d.MRPUtils=c})(window);